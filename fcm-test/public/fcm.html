<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  

  <script src="firebase-app.js"></script>
  <script src="firebase-messaging.js"></script>
  <script src="app.js" charset="UTF-8"></script>
  <!-- <script src="firebase-messaging-sw.js"></script> -->
  <script type="module" charset="UTF-8">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.0/firebase-app.js";
  
    // import { getAnalytics, logEvent } from "https://www.gstatic.com/firebasejs/9.9.3/firebase-analytics.js";
    import { getMessaging, getToken } from 'https://www.gstatic.com/firebasejs/9.9.0/firebase-messaging.js';
    
    

 if ('serviceWorker' in navigator) {
   console.log("***serviceWorker****");
     navigator.serviceWorker.register('https://sureshsu.github.io/fbase/fcm-test/public/firebase-messaging-sw.js')
       .then(function(registration) {
        messaging.useServiceWorker(registration);
		return registration.scope;
        console.log("***serviceWorker**inside**");
		SubscribeUsers();
         console.log('Registration successful, scope is:', registration.scope);
       }).catch(function(err) {
        console.log('Service worker registration failed, error:', err);
       });
    }
    
          
      console.log("*******firebase******",firebase);
  
    </script>
 
    <script>
// document.getElementById("btn").focus();


window.onload = function () {
	document.getElementById("btn").focus();
};
      </script>

  

    
</head>

<body>
 
    Receiving iframe.  
    <h1>FCM - Push Notification</h1>
   
<div id="message">
  <button id="btn" onClick="SubscribeUsers()" >subscribe</button>
</body>
</html>
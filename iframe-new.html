<!doctype html>
<html>
  <head>
    <title>Webpack Training 1</title>
  </head>
  <body>
    <!-- <h1>Webpack Training 1</h1> -->

    <script type="module">

      // Import the functions you need from the SDKs you need
      // import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.3/firebase-app.js";

      // import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.9.3/firebase-analytics.js";
      
      // // TODO: Add SDKs for Firebase products that you want to use
      
      // // https://firebase.google.com/docs/web/setup#available-libraries
      
      
      // // Your web app's Firebase configuration
      
      // // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      
      // const firebaseConfig = {
      
      //   apiKey: "AIzaSyDuzQOEc-zRBZr7CbVoUJ-tXeHeqhNat8I",
      
      //   authDomain: "fir-sample-d7437.firebaseapp.com",
      
      //   projectId: "fir-sample-d7437",
      
      //   storageBucket: "fir-sample-d7437.appspot.com",
      
      //   messagingSenderId: "491000235416",
      
      //   appId: "1:491000235416:web:da7eba339f3de7209117ed",
      
      //   measurementId: "G-0FZTEHPVWR"
      
      // };
            
      // // Initialize Firebase
      
      // const app = initializeApp(firebaseConfig);
      // console.log(app);
      // const analytics = getAnalytics(app);
      
      </script>
      <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-0FZTEHPVWR"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
  
        gtag('config', 'G-0FZTEHPVWR', { 'debug_mode':true });
        gtag('event', 'type')
      </script> -->
      <!-- <script src="./index.js"></script> -->
      <script type="text/javascript" src="main.js"></script>
      <script type="module">
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}

      var init_ga = function() {
        console.log("****init_ga fun******");
        gtag('config', 'G-0FZTEHPVWR', { 'debug_mode':true });
      }
  
      // window.init_ga = init_ga;

      var send_ga_event = function(e)  {
          console.log("send ga event");
          
          gtag('js', new Date());
          gtag('event', 'type', e.data);
      }
      window.send_ga_event = send_ga_event;
  
    var messageHandler = function (e) {
              var messageEle = document.getElementById('message');
              messageEle.innerHTML = e.data;
              console.log("message handler");
              // window.init_ga();
              window.send_ga_event(e.data);
    };
  
    init_ga();
    // window.addEventListener('message', function(event) {
        // window.onmessage = function(e) {
        //     send_ga_event(e)
        //     cosole.log("***onmessage****",send_ga_event(e));
        // };
    // window.onmessage = send_ga_event;
      
  
    window.onmessage = messageHandler;
  
    </script>
  Receiving iframe.  

<div id="message">

</body>
</html>